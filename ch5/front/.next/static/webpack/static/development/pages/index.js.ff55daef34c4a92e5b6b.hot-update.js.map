{"version":3,"file":"static/webpack/static/development/pages/index.js.ff55daef34c4a92e5b6b.hot-update.js","sources":["webpack:///./reducers/post.js"],"sourcesContent":["export const initialState = {\n  mainPosts: [{\n    id:1,\n    User: {\n      id: 1,\n      nickname: 'SIPO',\n    },\n    content: '첫 번째 게시글',\n    img: 'http://wordpress.sipo.kr/wp-content/uploads/2020/01/web_logo.svg',\n    Comments:[],\n  }], // 화면에 보일 포스트들\n  imagePaths:[], // 미리보기 이미지 경로\n  addPostErrorReason:false, // 포스트 업로드 실패사유\n  isAddingPost: false, // 포스트 업로드 중\n  postAdded: false, //포스트 업로드 성공\n  isAddingComment:false,\n  addCommentErrorReason:'',\n  commentAdded:false,\n};\n\nconst dummyPost={\n  id:2,\n  User:{\n    id:1,\n    nickname:'SIPO',\n  },\n  content:'나는 더미입니다.',\n  Comments: [],\n}\n\nconst dummyComment = {\n  id:1,\n  User:{\n    id:1,\n    nickname:'SIPO',\n  },\n  createdAt: new Date(),\n  content: '더미 댓글입니다.',\n}\n\nexport const LOAD_MAIN_POSTS_REQUEST = 'LOAD_MAIN_POSTS_REQUEST';\nexport const LOAD_MAIN_POSTS_SUCCESS = 'LOAD_MAIN_POSTS_SUCCESS';\nexport const LOAD_MAIN_POSTS_FAILURE = 'LOAD_MAIN_POSTS_FAILURE';\n\nexport const LOAD_HASHTAG_POSTS_REQUEST = 'LOAD_HASHTAG_POSTS_REQUEST';\nexport const LOAD_HASHTAG_POSTS_SUCCESS = 'LOAD_HASHTAG_POSTS_SUCCESS';\nexport const LOAD_HASHTAG_POSTS_FAILURE = 'LOAD_HASHTAG_POSTS_FAILURE';\n\nexport const LOAD_USER_POSTS_REQUEST = 'LOAD_USER_POSTS_REQUEST';\nexport const LOAD_USER_POSTS_SUCCESS = 'LOAD_USER_POSTS_SUCCESS';\nexport const LOAD_USER_POSTS_FAILURE = 'LOAD_USER_POSTS_FAILURE';\n\nexport const UPLOAD_IMAGE_REQUEST = 'UPLOAD_IMAGE_REQUEST';\nexport const UPLOAD_IMAGE_SUCCESS = 'UPLOAD_IMAGE_SUCCESS';\nexport const UPLOAD_IMAGE_FAILURE = 'UPLOAD_IMAGE_FAILURE';\n\nexport const REMOVE_IMAGE = 'UREMOVE_IMAGE';\n\n\nexport const ADD_POST_REQUEST = 'ADD_POST_REQUEST';\nexport const ADD_POST_SUCCESS = 'ADD_POST_SUCCESS';\nexport const ADD_POST_FAILURE = 'ADD_POST_FAILURE';\n\nexport  const LIKE_POST_REQUEST = 'LIKE_POST_REQUEST';\nexport  const LIKE_POST_SUCCESS = 'LIKE_POST_SUCCESS';\nexport  const LIKE_POST_FAILURE = 'LIKE_POST_FAILURE';\n\n export const UNLIKE_POST_REQUEST = 'UNLIKE_POST_REQUEST';\n export const UNLIKE_POST_SUCCESS = 'UNLIKE_POST_SUCCESS';\n export const UNLIKE_POST_FAILURE = 'UNLIKE_POST_FAILURE';\n\n export const ADD_COMMENT_REQUEST = 'ADD_COMMENT_REQUEST';\n export const ADD_COMMENT_SUCCESS = 'ADD_COMMENT_SUCCESS';\n export const ADD_COMMENT_FAILURE = 'ADD_COMMENT_FAILURE';\n\n export const LOAD_COMMENTS_REQUEST = 'LOAD_COMMENTS_REQUEST';\n export const LOAD_COMMENTS_SUCCESS = 'LOAD_COMMENTS_SUCCESS';\n export const LOAD_COMMENTS_FAILURE = 'LOAD_COMMENTS_FAILURE';\n\n export const RETWEET_REQUEST = 'RETWEET_REQUEST';\n export const RETWEET_SUCCESS = 'RETWEET_SUCCESS';\n export const RETWEET_FAILURE = 'RETWEET_FAILURE';\n\n export const REMOVE_POST_REQUEST = 'REMOVE_POST_REQUEST';\n export const REMOVE_POST_SUCCESS = 'REMOVE_POST_SUCCESS';\n export const REMOVE_POST_FAILURE = 'REMOVE_POST_FAILURE';\n\nexport default (state = initialState, action) => {\n  switch (action.type){\n    case ADD_POST_REQUEST:{\n      return{\n        ...state,\n        isAddingPost:true,\n        addPostErrorReason:'',\n      }\n    }\n    case ADD_POST_SUCCESS:{\n      return{\n        ...state,\n        isAddingPost:false,\n        mainPosts:[dummyPost, ...state.mainPosts],\n      }\n    }\n    case ADD_POST_FAILURE:{\n      return{\n        ...state,\n        isAddingPost:false,\n        addPostErrorReason:action.error,\n      }\n    }\n    case ADD_COMMENT_REQUEST:{\n      return{\n        ...state,\n        isAddingComment:true,\n        addCommentErrorReason:'',\n        commentAdded: false,\n      }\n    }\n    case ADD_COMMENT_SUCCESS:{\n      const postIndex = state.mainPosts.findIndex(v=> v.id === action.data.postId);\n      const post = state.mainPosts[postIndex];\n      const Comments = [...post.Comments, dummyComment];\n      const mainPosts = [...state.mainPosts];\n      mainPosts[postIndex] = {...post, Comments};\n      return{\n        ...state,\n        isAddingComment:false,\n        mainPosts,\n        commentAdded: true,\n      }\n    }\n    case ADD_COMMENT_FAILURE:{\n      return{\n        ...state,\n        isAddingComment:false,\n        addCommentErrorReason:action.error,\n      }\n    }\n\n      default: {\n        return{\n          ...state,\n        }\n      }\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AARA;AASA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAjBA;AAoBA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAPA;AAUA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAPA;AAUA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AAGA;AAvDA;AAyDA;;;;A","sourceRoot":""}