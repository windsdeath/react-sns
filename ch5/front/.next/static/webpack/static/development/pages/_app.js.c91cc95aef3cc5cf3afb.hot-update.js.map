{"version":3,"file":"static/webpack/static/development/pages/_app.js.c91cc95aef3cc5cf3afb.hot-update.js","sources":["webpack:///./sagas/user.js"],"sourcesContent":["import { all, fork, put, takeEvery, call } from \"redux-saga/effects\";\nimport {\n  LOG_IN_REQUEST,\n  LOG_IN_SUCCESS,\n  LOG_IN_FAILURE,\n  SIGN_UP_REQUEST,\n  SIGN_UP_SUCCESS,\n  SIGN_UP_FAILURE\n} from \"../reducers/user\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL = \"http://localhost:3065/api/\";\n\nfunction* watchSignUp() {\n  yield takeEvery(SIGN_UP_REQUEST, signUp);\n}\n\nfunction loginAPI(loginData) {\n  return axios.post(\"/user/login\", loginData);\n}\n\nfunction* login(action) {\n  try {\n    // yield call(loginAPI)\n    yield call(loginAPI, action.data);\n    yield put({\n      //put은 dispatch와 동일\n      type: LOG_IN_SUCCESS\n    });\n  } catch (e) {\n    //loginAPI 실패\n    // eslint-disable-next-line no-console\n    console.log(e);\n    yield put({\n      type: LOG_IN_FAILURE\n    });\n  }\n}\n\nfunction signUpAPI(signUpData) {\n  // axios가 서버에 요청을 보냄\n  return axios.post(\"/user\", signUpData);\n}\n\nfunction* signUp(action) {\n  try {\n    // yield call(signUpAPI)\n    yield call(signUpAPI, action.data);\n    yield put({\n      //put은 dispatch와 동일\n      type: SIGN_UP_SUCCESS\n    });\n  } catch (e) {\n    //loginAPI 실패시\n    // eslint-disable-next-line no-console\n    console.log(e);\n    yield put({\n      type: SIGN_UP_FAILURE,\n      error: e\n    });\n  }\n}\n\nfunction* watchLogin() {\n  yield takeEvery(LOG_IN_REQUEST, login);\n}\n\nexport default function* userSaga() {\n  yield all([fork(watchLogin), fork(watchSignUp)]);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAaA;;;AAQA;;;AAuBA;;;AAmBA;;;AAIA;AACA;AApEA;AACA;AAQA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAJA;AAAA;AAIA;AACA;AACA;AAFA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AACA;AACA;AAXA;AAYA;AACA;AADA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAJA;AAAA;AAIA;AACA;AACA;AAFA;AACA;AALA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AACA;AACA;AAXA;AAYA;AACA;AACA;AAFA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAkBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}